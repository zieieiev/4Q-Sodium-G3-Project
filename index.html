<!DOCTYPE html>
<html>
	<head>
		<title>OUT OF HUE</title>
		<link rel="stylesheet" href="style.css">
	</head>
	
    <body>
		<div class="background-animate"></div>
		<div class="foreground-animate"></div>
		<div class="content">
			<header class="website-header">
				<div class="logo">
					<img src="https://i.pinimg.com/736x/70/7c/27/707c278da1756b310de565940cf0012a.jpg">
					<span id="game-name">OUT OF HUE</span> 
				</div>
				<nav>
					<ul>
						<li><a href="#">Home</a></li>
						<li><a href="#">Game</a></li>
						<li><a href="#divB">About</a></li>
					</ul>
				</nav>
			</header>

			<main>
				<img src="displayVid.gif" alt="Sneak peek of the game." width="300px" height="300px" id="showcase">
				<div id="divA">
					<h1 id="result">Welcome, user.</h1>
					<form>
						<label for="username" id="subtext">Enter username: </label>
						<input type="text" id="username" name="username" placeholder="User">
						<button type="button" onclick="enterName()">Submit</button>
						<br>
						<a href="index2.html">
							<button id="playButton" type="button" disabled></button>
						</a>
					</form>
				</div>
			</main>
			
			<section>
				<div id="divB">
					<div class="chat-content">
						<span>What is</span><span id="colored"> OUT OF HUE?</span>
						<p>OUT OF HUE is a game that challenges both your eyes and mind. It’s a simple yet engaging game where you're presented with a grid of one color—but one square is slightly different. 
						Your mission is to spot the different hue among the rest.</p>
					</div>
				</div>
			</section>
			
			<footer>
			  <p>Copyright &copy; Group 3: OUT OF HUE</p>
			</footer>
		</div>
		
		<script>
		
			window.onload = function() {
				let storedUsername = localStorage.getItem('username');
				if (storedUsername) {
					document.getElementById('result').innerHTML = 'Welcome, ' + storedUsername + '.';
					document.getElementById('username').value = storedUsername;
					document.getElementById('playButton').disabled = false;
				}
			}
			
			function enterName(){
				let nameOfUser = document.getElementById('username').value;
				let startButton = document.getElementById('playButton');
				
				if (nameOfUser === ""){
					document.getElementById('result').innerHTML = 'Please enter a username!';
					startButton.disabled = true;
				} else{
					if (!isValidUsername(nameOfUser)){
						document.getElementById('result').innerHTML = 'Invalid username!';
						document.getElementById('subtext').innerHTML = 'Username should ONLY contain letters and/or numbers.';
						startButton.disabled = true;
					} else {
						document.getElementById('result').innerHTML = 'Welcome, ' + nameOfUser + '.';
						document.getElementById('subtext').innerHTML = 'Enter username: ';
						startButton.disabled = false;
						localStorage.setItem('username', nameOfUser);
					}
				}    
			}
			
			function isValidUsername(username){
				return /^[a-zA-Z0-9]+$/.test(username);
			}
		</script>
    </body>
</html>